(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{629:function(t,e,a){"use strict";a.r(e);var i=a(6),r=Object(i.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"部署流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署流程"}},[t._v("#")]),t._v(" 部署流程")]),t._v(" "),a("p",[t._v("常规的部署流程")]),t._v(" "),a("ol",[a("li",[t._v("更新博客")]),t._v(" "),a("li",[t._v("本地npm run docs:build构建文件")]),t._v(" "),a("li",[t._v("将构建的静态资源文件切换到部署的分支")]),t._v(" "),a("li",[t._v("启用Page服务将静态资源文件跑起")])]),t._v(" "),a("h2",{attrs:{id:"github-page-github-action部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-page-github-action部署"}},[t._v("#")]),t._v(" Github Page + Github Action部署")]),t._v(" "),a("p",[t._v("相关步骤:")]),t._v(" "),a("ol",[a("li",[t._v("生成Github token令牌")]),t._v(" "),a("li",[t._v("进入项目 将token令牌设置到"),a("code",[t._v("Settings/Secrets")]),t._v("中")]),t._v(" "),a("li",[t._v(".github/workflows/main.yml目录下编写在Action，"),a("a",{attrs:{href:"https://github.com/dreamChaser-lcc/reco-blog/blob/master/.github/workflows/main.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例代码"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("完成上述步骤，提交代码就会自动部署Github Page上")]),t._v(" "),a("li",[t._v("在项目中的Action可以查看部署日志")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("由于Github支持CI/CD持续集成部署，所以可以利用Github Action实现自动部署")])]),a("h2",{attrs:{id:"gitee-page-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitee-page-部署"}},[t._v("#")]),t._v(" Gitee page 部署")]),t._v(" "),a("p",[t._v("相关步骤：")]),t._v(" "),a("ol",[a("li",[t._v("npm run docs:build 构建打包代码")]),t._v(" "),a("li",[t._v("打包生成的静态资源文件，上传到Gitee，deploy分支")]),t._v(" "),a("li",[t._v("打开Gitee Page服务")]),t._v(" "),a("li",[t._v("选择发布分支")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("dist 是静态资源存放的项目目录，如上配置对应的是master分支中，根目录下dist目录")])]),t._v(" "),a("img",{attrs:{alt:"部署404问题",src:t.$themeConfig.jsdelivrUrl+"/vuepress/deploy_giteePage.png"}}),t._v(" "),a("h2",{attrs:{id:"fqa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fqa"}},[t._v("#")]),t._v(" FQA")]),t._v(" "),a("h3",{attrs:{id:"部署后出现页面404"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署后出现页面404"}},[t._v("#")]),t._v(" 部署后出现页面404")]),t._v(" "),a("ul",[a("li",[t._v("引起原因是因为静态资源对应根目录不对，导致找不到文件")]),t._v(" "),a("li",[t._v("解决在配置文件(.vuepress/config.js)下修改base，即修改项目根目录")]),t._v(" "),a("li",[t._v("/reco-blog/ 在这里指定的是git项目名称")])]),t._v(" "),a("img",{attrs:{alt:"部署404问题",src:t.$themeConfig.jsdelivrUrl+"/vuepress/deploy_FQA.png"}}),t._v(" "),a("h3",{attrs:{id:"github-page-和gitee-page对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-page-和gitee-page对比"}},[t._v("#")]),t._v(" Github Page 和Gitee Page对比")]),t._v(" "),a("ul",[a("li",[t._v("Github优点在于只要提交代码即通过脚本进行自动部署，但由于是国外地址访问速度会有所限制")]),t._v(" "),a("li",[t._v("Gitee相比之下访问速度更快，浏览更友好，但需要手动打包及部署")])]),t._v(" "),a("h2",{attrs:{id:"参考连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考连接"}},[t._v("#")]),t._v(" 参考连接")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github Action自动部署"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("阮一峰 github Action入门教学"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);